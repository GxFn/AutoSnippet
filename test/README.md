# AutoSnippet é›†æˆæµ‹è¯•ç³»ç»Ÿ

æœ¬ç›®å½•åŒ…å« AutoSnippet çš„è‡ªåŠ¨åŒ–é›†æˆæµ‹è¯•è„šæœ¬ï¼Œç”¨äºéªŒè¯æ ¸å¿ƒæŒ‡ä»¤å’Œ AI è¾…åŠ©èƒ½åŠ›çš„ç¨³å®šæ€§ã€‚

## ğŸ§ª æµ‹è¯•åŸåˆ™
1. **çº¯å‡€æ€§**ï¼šæµ‹è¯•è„šæœ¬ä»…ä¿ç•™é€»è¾‘ï¼Œä¸å­˜æ”¾ä¸´æ—¶æ•°æ®ã€‚
2. **ç¯å¢ƒéš”ç¦»**ï¼šæµ‹è¯•åœ¨å¤–éƒ¨å·¥ç¨‹ï¼ˆé»˜è®¤ `AutoSnippetTestHome`ï¼‰ä¸­è¿è¡Œï¼Œæ‰€æœ‰çš„ä¸´æ—¶ Xcode Snippets å’Œç¼“å­˜éƒ½ä¼šé‡å®šå‘åˆ°è¯¥å·¥ç¨‹ä¸‹çš„ `.asd_test_temp` ç›®å½•ä¸­ï¼Œä¸æ±¡æŸ“å¼€å‘è€…çœŸå®çš„ Xcode ç¯å¢ƒã€‚
3. **ç—•è¿¹æ¸…ç†**ï¼šæµ‹è¯•å®Œæˆåè‡ªåŠ¨åˆ é™¤ç”Ÿæˆçš„é…ç½®æ–‡ä»¶å’Œä¸´æ—¶é‡å®šå‘ç›®å½•ã€‚
4. **åŸºç¡€ä¼˜å…ˆ**ï¼šä¼˜å…ˆä¿è¯é AI æ ¸å¿ƒåŠŸèƒ½çš„ç¨³å®šæ€§ã€‚

### æµ‹è¯•è¦†ç›–æ¦‚è§ˆ
- **basic**ï¼š`asd -v`ã€`asd init`ã€`asd root`ã€‚
- **create**ï¼šåœ¨**è‡ªå»ºä¸´æ—¶é¡¹ç›®**ä¸­æµ‹è¯• AI æ¨¡å¼å’Œé¢„ç½®æ¨¡å¼ï¼Œå…¨æ–¹ä½è¦†ç›– **Swift** å’Œ **OC**ã€‚
- **install**ï¼šåœ¨è‡ªå»ºé¡¹ç›®ä¸­æ ¡éªŒé‡å®šå‘ç›®å½•ä¸‹ç”Ÿæˆè‡³å°‘ä¸€ä¸ª `.codesnippet` æ–‡ä»¶ã€‚
- **search**ï¼šéªŒè¯æ£€ç´¢åŠŸèƒ½ã€‚
- **update**ï¼šéªŒè¯ Snippet ä¿¡æ¯æ›´æ–°èƒ½åŠ›ã€‚
- **spm-map**ï¼šéªŒè¯ SPM æ˜ å°„æ‰«æåŠŸèƒ½ã€‚
- **watch**ï¼šåœ¨**è‡ªå»ºä¸´æ—¶é¡¹ç›®**ä¸­éªŒè¯ AI å®¡æŸ¥è¾“å‡ºä¸æ ‡è®°æ¸…ç†ï¼Œå…¨æ–¹ä½è¦†ç›– **Swift** å’Œ **OC**ã€‚
- **embed**ï¼šåœ¨è‡ªå»ºé¡¹ç›®ä¸­éªŒè¯ `asd embed --clear`ï¼ˆMock AIï¼‰ï¼Œç´¢å¼•å†™å…¥ `Knowledge/.autosnippet/context/`ã€‚
- **install-skill**ï¼šåœ¨è‡ªå»ºé¡¹ç›®ä¸­éªŒè¯ `install:cursor-skill` ç”Ÿæˆ `by-category/`ã€`project-recipes-context.md` ç­‰ã€‚
- **embed-real**ï¼šåœ¨**çœŸå®ç¯å¢ƒ** BiliDiliForTest ä¸­éªŒè¯ `asd embed`ï¼Œå¤š Recipe/å¤šæ¨¡å—åœºæ™¯ã€‚
- **install-skill-real**ï¼šåœ¨**çœŸå®ç¯å¢ƒ** BiliDiliForTest ä¸­éªŒè¯ `install:cursor-skill`ï¼Œå¤š Skills ä¸ by-category åˆ‡ç‰‡ã€‚

### å•å…ƒæµ‹è¯•ï¼ˆæ— å¤–éƒ¨ä¾èµ–ï¼‰
- **test:unit**ï¼š`defaults.inferCategory`ã€`chunker` å„ç­–ç•¥ã€`context` å¸¸é‡ä¸ JsonAdapterã€‚

### æ ¹æ®ä¿®æ”¹å†…å®¹é€‰æ‹©æµ‹è¯•ï¼ˆ`--changed`ï¼‰
- **AI ä¿®æ”¹å®Œä»£ç åè¯·æ‰§è¡Œ**ï¼š`npm run test:changed`ï¼ˆæŒ‰ git å˜æ›´é€‰æµ‹ï¼‰ï¼Œæˆ–ä¼ å…¥æœ¬æ¬¡ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„åªè·‘ç›¸å…³æµ‹è¯•ï¼š`node test/runner.js --changed -- bin/create.js lib/snippet/specRepository.js`ã€‚
- **å˜æ›´æ¥æº**ï¼ˆä¼˜å…ˆçº§ï¼‰ï¼š1) å‘½ä»¤è¡Œ `--` åçš„è·¯å¾„ï¼›2) ç¯å¢ƒå˜é‡ `ASD_TEST_CHANGED_FILES`ï¼ˆé€—å·æˆ–æ¢è¡Œåˆ†éš”ï¼‰ï¼›3) `git diff --name-only HEAD`ã€‚
- **è·¯å¾„â†’å¥—ä»¶æ˜ å°„**ï¼š`runner.js` å†… `PATH_TO_SUITES` å®šä¹‰ï¼ˆå¦‚ `bin/create.js` â†’ create/updateï¼Œ`lib/watch/fileWatcher.js` â†’ watchï¼‰ã€‚AI ä¿®æ”¹ä»£ç åå¯å°†æœ¬æ¬¡æ”¹åŠ¨çš„æ–‡ä»¶åˆ—è¡¨å†™å…¥ `ASD_TEST_CHANGED_FILES`ï¼Œå†æ‰§è¡Œ `node test/runner.js --changed` åªè·‘ç›¸å…³æµ‹è¯•ã€‚
- **ä¾èµ–**ï¼šè‹¥é€‰ä¸­çš„å¥—ä»¶åŒ…å« create/install/update/search/spmmap/watch ä¹‹ä¸€ï¼Œä¼šè‡ªåŠ¨åŠ å…¥ basicï¼Œä¿è¯ `asd init` å·²æ‰§è¡Œã€‚

## ğŸ› ï¸ é…ç½®è¯´æ˜
æµ‹è¯•ç¯å¢ƒè·¯å¾„é€šè¿‡ç¯å¢ƒå˜é‡ `ASD_TEST_HOME` é…ç½®ã€‚

```bash
# é»˜è®¤è·¯å¾„ä¸º ../AutoSnippetTestHome/BiliDiliForTest
export ASD_TEST_HOME=/path/to/your/test/project
```

## ğŸš€ è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œå…¨é‡æµ‹è¯• (ä½¿ç”¨æœ¬åœ° bin/asnip.js)
npm test

# æ ¹æ®ä¿®æ”¹å†…å®¹è‡ªåŠ¨é€‰æ‹©æµ‹è¯•ï¼ˆAI ä¿®æ”¹å®Œä»£ç åå¯ç›´æ¥è·‘å¯¹åº”æµ‹è¯•ï¼‰
npm run test:changed
# æˆ–ï¼šnode test/runner.js --changed
# å˜æ›´æ¥æºï¼ˆä¼˜å…ˆçº§ï¼‰ï¼š1) å‘½ä»¤è¡Œ -- åçš„è·¯å¾„ï¼›2) ç¯å¢ƒå˜é‡ ASD_TEST_CHANGED_FILESï¼›3) git diff --name-only HEAD
# ç¤ºä¾‹ï¼ˆä»…è·‘ä¸ä¿®æ”¹æ–‡ä»¶ç›¸å…³çš„æµ‹è¯•ï¼‰ï¼šnode test/runner.js --changed -- bin/create.js lib/snippet/specRepository.js

# ä»…è¿è¡ŒæŒ‡å®šæ¨¡å—
node test/runner.js --basic         # ä»… asd -v / init / root
node test/runner.js --create        # ä»… createï¼šAI æ¨¡å¼ + é¢„ç½®æ¨¡å¼
node test/runner.js --install       # ä»… asd installï¼ˆæ ¡éªŒ .codesnippet å†™å…¥ï¼‰
node test/runner.js --search        # ä»… asd searchï¼ˆå…³é”®è¯ / æ— å…³é”®è¯ï¼‰
node test/runner.js --update        # ä»… asd updateï¼ˆä¿®æ”¹ snippet summaryï¼‰
node test/runner.js --spmmap        # ä»… asd spm-map --dry-run
node test/runner.js --watch         # ä»… asd watchï¼ˆå« as:guard / as:createï¼‰
node test/runner.js --embed           # ä»… asd embedï¼ˆMock AIï¼Œè‡ªå»ºé¡¹ç›®ï¼‰
node test/runner.js --install-skill   # ä»… install:cursor-skillï¼ˆè‡ªå»ºé¡¹ç›®ï¼‰
node test/runner.js --embed-real      # ä»… asd embedï¼ˆçœŸå®ç¯å¢ƒ BiliDiliForTestï¼‰
node test/runner.js --install-skill-real  # ä»… install:cursor-skillï¼ˆçœŸå®ç¯å¢ƒï¼‰
npm run test:unit                   # å•å…ƒæµ‹è¯•ï¼ˆdefaultsã€chunkerã€contextï¼‰
```

## ğŸŒ å…¨å±€åŒæ­¥å¼€å‘ (Local-to-Global)
å¦‚æœä½ éœ€è¦å°†æœ¬åœ°ä¿®æ”¹è¦†ç›–åˆ°å…¨å±€ `asd` å‘½ä»¤è¿›è¡Œå®é™…ç¯å¢ƒæµ‹è¯•ï¼š

```bash
# 1. å°†å½“å‰æœ¬åœ°ä»£ç é“¾æ¥åˆ°å…¨å±€
npm run dev:link

# 2. éªŒè¯å…¨å±€ asd æ˜¯å¦æŒ‡å‘æœ¬åœ°
npm run dev:verify

# 3. è¿è¡Œæµ‹è¯•ï¼ˆéªŒè¯å…¨å±€ç¯å¢ƒï¼‰
node test/runner.js --global

# 4. å¯åŠ¨ UI å‰è‡ªåŠ¨æ„å»º Dashboardï¼ˆæœ¬åœ°æ”¹å®Œå‰ç«¯åæ— éœ€å…ˆæ‰‹åŠ¨ buildï¼‰
ASD_UI_BUILD=1 asd ui
# æˆ–åœ¨ä»“åº“å†…ï¼šnpm run dev:ui
```

## ğŸ“‚ ç›®å½•ç»“æ„
- `runner.js`: é›†æˆæµ‹è¯•è¿è¡Œå™¨ï¼ˆbasic / create / install / search / update / spmmap / watch / embed / install-skillï¼‰ã€‚
- `unit/`: å•å…ƒæµ‹è¯•ï¼ˆdefaultsã€chunkerã€contextï¼‰ï¼Œæ— å¤–éƒ¨ä¾èµ–ã€‚
- `README.md`: æœ¬è¯´æ˜ã€‚

ä¸´æ—¶ç›®å½•ä¸æ‚ç‰©å‡ä¸åœ¨æœ¬ç›®å½•ï¼šæµ‹è¯•æ—¶ Xcode Snippets ä¸ç¼“å­˜é‡å®šå‘åˆ°æµ‹è¯•å·¥ç¨‹ä¸‹çš„ `.asd_test_temp`ï¼Œæµ‹è¯•ç»“æŸä¼šæ¸…ç†ã€‚
